#include <stdio.h>
#include <stdlib.h>

int main(void)
{
    FILE* fp = fopen("test.bin", "rb");
    if (fp == NULL) {
        fputs("ファイルオープンに失敗しました。\n", stderr);
        exit(EXIT_FAILURE);
    }


    int num;
    if (fread(&num, sizeof(num), 1, fp) < 1) {
        fputs("読み込み中にエラーが発生しました。\n", stderr);
        exit(EXIT_FAILURE);
    }

    double d;
    if (fread(&d, sizeof(d), 1, fp) < 1) {
        fputs("読み込み中にエラーが発生しました。\n", stderr);
        exit(EXIT_FAILURE);
    }

    char str[7];
    if (fread(str, sizeof(str[0]), sizeof(str), fp) < sizeof(str)) {
        fputs("読み込み中にエラーが発生しました。\n", stderr);
        exit(EXIT_FAILURE);
    }

    printf("%d\n", num);
    printf("%lf\n", d);
    printf("%s\n", str);

    if (fclose(fp) == EOF) {
        fputs("ファイルクローズに失敗しました。\n", stderr);
        exit(EXIT_FAILURE);
    }
}