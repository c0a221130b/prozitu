import numpy as np
import cv2
import os

reed_first_path = '/home/ayaka/malware/test/benign_bin'
count = 1
reed_file_path = f"{reed_first_path}/benign{count}"
for i in range(len(os.listdir(reed_first_path))):
    f = open(reed_file_path, 'rb')
    data = f.read()

    img = np.zeros((256, 256), np.uint8)

    for i in range(65536):
        if i < len(data):
            img[i//256, i%256] = data[i]
        else:
            break
        

    wite_first_path = '/home/ayaka/malware/test/benign_image/binign'
    end_path = '.png'
    wite_file_path = f"{wite_first_path}_{count}{end_path}"

    cv2.imwrite(wite_file_path, img)
    count += 1
    
# import numpy as np
# import cv2

# f = open("./test/subs_bin/ransom1", 'rb')
# data = f.read()

# img = np.zeros((256, 256), np.uint8)

# for i in range(65536):
#     if i < len(data):
#         img[i//256, i%256] = data[i]
#     else:
#         break
        
# cv2.imwrite("/home/ayaka/malware/test/subs_image/ransom1.png", img)
